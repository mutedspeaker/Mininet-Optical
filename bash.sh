set -e
url="localhost:8080";
t1=$url; t2=$url; t3=$url; t4=$url; t5=$url; t6=$url; t7=$url; t8=$url; t9=$url; t10=$url; t11=$url; t12=$url; t13=$url; t14=$url; t15=$url; t16=$url; t17=$url; t18=$url; t19=$url; t20=$url; t21=$url; t22=$url; t23=$url; t24=$url; t25=$url; t26=$url; t27=$url; t28=$url; t29=$url; t30=$url; t31=$url; t32=$url; t33=$url; t34=$url; t35=$url; t36=$url; t37=$url; t38=$url; t39=$url; t40=$url; t41=$url; t42=$url; t43=$url; t44=$url; t45=$url; t46=$url; t47=$url; t48=$url; t49=$url; t50=$url; t51=$url; t52=$url; t53=$url; t54=$url; t55=$url; t56=$url; t57=$url; t58=$url; t59=$url; t60=$url; t61=$url; t62=$url; t63=$url; t64=$url; t65=$url; t66=$url; t67=$url; t68=$url; t69=$url; t70=$url; t71=$url; t72=$url; t73=$url; t74=$url; t75=$url; t76=$url; t77=$url; t78=$url; t79=$url; t80=$url; t81=$url; t82=$url; t83=$url; t84=$url; t85=$url; 
r1=$url; r2=$url; r3=$url
curl="curl -s"
$curl "$t1/connect?node=t1&ethPort=3&wdmPort=3&channel=1"
$curl "$t2/connect?node=t2&ethPort=4&wdmPort=4&channel=2"
$curl "$t3/connect?node=t3&ethPort=5&wdmPort=5&channel=3"
$curl "$t4/connect?node=t4&ethPort=6&wdmPort=6&channel=4"
$curl "$t5/connect?node=t5&ethPort=7&wdmPort=7&channel=5"
$curl "$t6/connect?node=t6&ethPort=8&wdmPort=8&channel=6"
$curl "$t7/connect?node=t7&ethPort=9&wdmPort=9&channel=7"
$curl "$t8/connect?node=t8&ethPort=10&wdmPort=10&channel=8"
$curl "$t9/connect?node=t9&ethPort=11&wdmPort=11&channel=9"
$curl "$t10/connect?node=t10&ethPort=12&wdmPort=12&channel=10"
$curl "$t11/connect?node=t11&ethPort=13&wdmPort=13&channel=11"
$curl "$t12/connect?node=t12&ethPort=14&wdmPort=14&channel=12"
$curl "$t13/connect?node=t13&ethPort=15&wdmPort=15&channel=13"
$curl "$t14/connect?node=t14&ethPort=16&wdmPort=16&channel=14"
$curl "$t15/connect?node=t15&ethPort=17&wdmPort=17&channel=15"
$curl "$t16/connect?node=t16&ethPort=18&wdmPort=18&channel=16"
$curl "$t17/connect?node=t17&ethPort=19&wdmPort=19&channel=17"
$curl "$t18/connect?node=t18&ethPort=20&wdmPort=20&channel=18"
$curl "$t19/connect?node=t19&ethPort=21&wdmPort=21&channel=19"
$curl "$t20/connect?node=t20&ethPort=22&wdmPort=22&channel=20"
$curl "$t21/connect?node=t21&ethPort=23&wdmPort=23&channel=21"
$curl "$t22/connect?node=t22&ethPort=24&wdmPort=24&channel=22"
$curl "$t23/connect?node=t23&ethPort=25&wdmPort=25&channel=23"
$curl "$t24/connect?node=t24&ethPort=26&wdmPort=26&channel=24"
$curl "$t25/connect?node=t25&ethPort=27&wdmPort=27&channel=25"
$curl "$t26/connect?node=t26&ethPort=28&wdmPort=28&channel=26"
$curl "$t27/connect?node=t27&ethPort=29&wdmPort=29&channel=27"
$curl "$t28/connect?node=t28&ethPort=30&wdmPort=30&channel=28"
$curl "$t29/connect?node=t29&ethPort=31&wdmPort=31&channel=29"
$curl "$t30/connect?node=t30&ethPort=32&wdmPort=32&channel=30"
$curl "$t31/connect?node=t31&ethPort=33&wdmPort=33&channel=31"
$curl "$t32/connect?node=t32&ethPort=34&wdmPort=34&channel=32"
$curl "$t33/connect?node=t33&ethPort=35&wdmPort=35&channel=33"
$curl "$t34/connect?node=t34&ethPort=36&wdmPort=36&channel=34"
$curl "$t35/connect?node=t35&ethPort=37&wdmPort=37&channel=35"
$curl "$t36/connect?node=t36&ethPort=38&wdmPort=38&channel=36"
$curl "$t37/connect?node=t37&ethPort=39&wdmPort=39&channel=37"
$curl "$t38/connect?node=t38&ethPort=40&wdmPort=40&channel=38"
$curl "$t39/connect?node=t39&ethPort=41&wdmPort=41&channel=39"
$curl "$t40/connect?node=t40&ethPort=42&wdmPort=42&channel=40"
$curl "$t41/connect?node=t41&ethPort=43&wdmPort=43&channel=41"
$curl "$t42/connect?node=t42&ethPort=44&wdmPort=44&channel=42"
$curl "$t43/connect?node=t43&ethPort=45&wdmPort=45&channel=43"
$curl "$t44/connect?node=t44&ethPort=46&wdmPort=46&channel=44"
$curl "$t45/connect?node=t45&ethPort=47&wdmPort=47&channel=45"
$curl "$t46/connect?node=t46&ethPort=48&wdmPort=48&channel=46"
$curl "$t47/connect?node=t47&ethPort=49&wdmPort=49&channel=47"
$curl "$t48/connect?node=t48&ethPort=50&wdmPort=50&channel=48"
$curl "$t49/connect?node=t49&ethPort=51&wdmPort=51&channel=49"
$curl "$t50/connect?node=t50&ethPort=52&wdmPort=52&channel=50"
$curl "$t51/connect?node=t51&ethPort=53&wdmPort=53&channel=51"
$curl "$t52/connect?node=t52&ethPort=54&wdmPort=54&channel=52"
$curl "$t53/connect?node=t53&ethPort=55&wdmPort=55&channel=53"
$curl "$t54/connect?node=t54&ethPort=56&wdmPort=56&channel=54"
$curl "$t55/connect?node=t55&ethPort=57&wdmPort=57&channel=55"
$curl "$t56/connect?node=t56&ethPort=58&wdmPort=58&channel=56"
$curl "$t57/connect?node=t57&ethPort=59&wdmPort=59&channel=57"
$curl "$t58/connect?node=t58&ethPort=60&wdmPort=60&channel=58"
$curl "$t59/connect?node=t59&ethPort=61&wdmPort=61&channel=59"
$curl "$t60/connect?node=t60&ethPort=62&wdmPort=62&channel=60"
$curl "$t61/connect?node=t61&ethPort=63&wdmPort=63&channel=61"
$curl "$t62/connect?node=t62&ethPort=64&wdmPort=64&channel=62"
$curl "$t63/connect?node=t63&ethPort=65&wdmPort=65&channel=63"
$curl "$t64/connect?node=t64&ethPort=66&wdmPort=66&channel=64"
$curl "$t65/connect?node=t65&ethPort=67&wdmPort=67&channel=65"
$curl "$t66/connect?node=t66&ethPort=68&wdmPort=68&channel=66"
$curl "$t67/connect?node=t67&ethPort=69&wdmPort=69&channel=67"
$curl "$t68/connect?node=t68&ethPort=70&wdmPort=70&channel=68"
$curl "$t69/connect?node=t69&ethPort=71&wdmPort=71&channel=69"
$curl "$t70/connect?node=t70&ethPort=72&wdmPort=72&channel=70"
$curl "$t71/connect?node=t71&ethPort=73&wdmPort=73&channel=71"
$curl "$t72/connect?node=t72&ethPort=74&wdmPort=74&channel=72"
$curl "$t73/connect?node=t73&ethPort=75&wdmPort=75&channel=73"
$curl "$t74/connect?node=t74&ethPort=76&wdmPort=76&channel=74"
$curl "$t75/connect?node=t75&ethPort=77&wdmPort=77&channel=75"
$curl "$t76/connect?node=t76&ethPort=78&wdmPort=78&channel=76"
$curl "$t77/connect?node=t77&ethPort=79&wdmPort=79&channel=77"
$curl "$t78/connect?node=t78&ethPort=80&wdmPort=80&channel=78"
$curl "$t79/connect?node=t79&ethPort=81&wdmPort=81&channel=79"
$curl "$t80/connect?node=t80&ethPort=82&wdmPort=82&channel=80"
$curl "$t81/connect?node=t81&ethPort=83&wdmPort=83&channel=81"
$curl "$t82/connect?node=t82&ethPort=84&wdmPort=84&channel=82"
$curl "$t83/connect?node=t83&ethPort=85&wdmPort=85&channel=83"
$curl "$t84/connect?node=t84&ethPort=86&wdmPort=86&channel=84"
$curl "$t85/connect?node=t85&ethPort=87&wdmPort=87&channel=85"
$curl "$r1/reset?node=r1"
$curl "$r2/reset?node=r2"
$curl "$r3/reset?node=r3"
$curl "$r1/connect?node=r1&port1=3&port2=3&channels=1"
$curl "$r1/connect?node=r1&port1=4&port2=4&channels=2"
$curl "$r1/connect?node=r1&port1=5&port2=5&channels=3"
$curl "$r1/connect?node=r1&port1=6&port2=6&channels=4"
$curl "$r1/connect?node=r1&port1=7&port2=7&channels=5"
$curl "$r1/connect?node=r1&port1=8&port2=8&channels=6"
$curl "$r1/connect?node=r1&port1=9&port2=9&channels=7"
$curl "$r1/connect?node=r1&port1=10&port2=10&channels=8"
$curl "$r1/connect?node=r1&port1=11&port2=11&channels=9"
$curl "$r1/connect?node=r1&port1=12&port2=12&channels=10"
$curl "$r1/connect?node=r1&port1=13&port2=13&channels=11"
$curl "$r1/connect?node=r1&port1=14&port2=14&channels=12"
$curl "$r1/connect?node=r1&port1=15&port2=15&channels=13"
$curl "$r1/connect?node=r1&port1=16&port2=16&channels=14"
$curl "$r1/connect?node=r1&port1=17&port2=17&channels=15"
$curl "$r1/connect?node=r1&port1=18&port2=18&channels=16"
$curl "$r1/connect?node=r1&port1=19&port2=19&channels=17"
$curl "$r1/connect?node=r1&port1=20&port2=20&channels=18"
$curl "$r1/connect?node=r1&port1=21&port2=21&channels=19"
$curl "$r1/connect?node=r1&port1=22&port2=22&channels=20"
$curl "$r1/connect?node=r1&port1=23&port2=23&channels=21"
$curl "$r1/connect?node=r1&port1=24&port2=24&channels=22"
$curl "$r1/connect?node=r1&port1=25&port2=25&channels=23"
$curl "$r1/connect?node=r1&port1=26&port2=26&channels=24"
$curl "$r1/connect?node=r1&port1=27&port2=27&channels=25"
$curl "$r1/connect?node=r1&port1=28&port2=28&channels=26"
$curl "$r1/connect?node=r1&port1=29&port2=29&channels=27"
$curl "$r1/connect?node=r1&port1=30&port2=30&channels=28"
$curl "$r1/connect?node=r1&port1=31&port2=31&channels=29"
$curl "$r1/connect?node=r1&port1=32&port2=32&channels=30"
$curl "$r1/connect?node=r1&port1=33&port2=33&channels=31"
$curl "$r1/connect?node=r1&port1=34&port2=34&channels=32"
$curl "$r1/connect?node=r1&port1=35&port2=35&channels=33"
$curl "$r1/connect?node=r1&port1=36&port2=36&channels=34"
$curl "$r1/connect?node=r1&port1=37&port2=37&channels=35"
$curl "$r1/connect?node=r1&port1=38&port2=38&channels=36"
$curl "$r1/connect?node=r1&port1=39&port2=39&channels=37"
$curl "$r1/connect?node=r1&port1=40&port2=40&channels=38"
$curl "$r1/connect?node=r1&port1=41&port2=41&channels=39"
$curl "$r1/connect?node=r1&port1=42&port2=42&channels=40"
$curl "$r2/connect?node=r2&port1=43&port2=43&channels=41"
$curl "$r2/connect?node=r2&port1=44&port2=44&channels=42"
$curl "$r2/connect?node=r2&port1=45&port2=45&channels=43"
$curl "$r2/connect?node=r2&port1=46&port2=46&channels=44"
$curl "$r3/connect?node=r3&port1=47&port2=47&channels=45"
$curl "$r3/connect?node=r3&port1=48&port2=48&channels=46"
$curl "$r3/connect?node=r3&port1=49&port2=49&channels=47"
$curl "$r3/connect?node=r3&port1=50&port2=50&channels=48"
$curl "$r3/connect?node=r3&port1=51&port2=51&channels=49"
$curl "$r3/connect?node=r3&port1=52&port2=52&channels=50"
$curl "$r3/connect?node=r3&port1=53&port2=53&channels=51"
$curl "$r3/connect?node=r3&port1=54&port2=54&channels=52"
$curl "$r3/connect?node=r3&port1=55&port2=55&channels=53"
$curl "$r3/connect?node=r3&port1=56&port2=56&channels=54"
$curl "$r3/connect?node=r3&port1=57&port2=57&channels=55"
$curl "$r3/connect?node=r3&port1=58&port2=58&channels=56"
$curl "$r3/connect?node=r3&port1=59&port2=59&channels=57"
$curl "$r3/connect?node=r3&port1=60&port2=60&channels=58"
$curl "$r3/connect?node=r3&port1=61&port2=61&channels=59"
$curl "$r3/connect?node=r3&port1=62&port2=62&channels=60"
$curl "$r3/connect?node=r3&port1=63&port2=63&channels=61"
$curl "$r3/connect?node=r3&port1=64&port2=64&channels=62"
$curl "$r3/connect?node=r3&port1=65&port2=65&channels=63"
$curl "$r3/connect?node=r3&port1=66&port2=66&channels=64"
$curl "$r3/connect?node=r3&port1=67&port2=67&channels=65"
$curl "$r3/connect?node=r3&port1=68&port2=68&channels=66"
$curl "$r3/connect?node=r3&port1=69&port2=69&channels=67"
$curl "$r3/connect?node=r3&port1=70&port2=70&channels=68"
$curl "$r3/connect?node=r3&port1=71&port2=71&channels=69"
$curl "$r3/connect?node=r3&port1=72&port2=72&channels=70"
$curl "$r3/connect?node=r3&port1=73&port2=73&channels=71"
$curl "$r3/connect?node=r3&port1=74&port2=74&channels=72"
$curl "$r3/connect?node=r3&port1=75&port2=75&channels=73"
$curl "$r3/connect?node=r3&port1=76&port2=76&channels=74"
$curl "$r3/connect?node=r3&port1=77&port2=77&channels=75"
$curl "$r3/connect?node=r3&port1=78&port2=78&channels=76"
$curl "$r3/connect?node=r3&port1=79&port2=79&channels=77"
$curl "$r3/connect?node=r3&port1=80&port2=80&channels=78"
$curl "$r3/connect?node=r3&port1=81&port2=81&channels=79"
$curl "$r3/connect?node=r3&port1=82&port2=82&channels=80"
$curl "$r3/connect?node=r3&port1=83&port2=83&channels=81"
$curl "$r3/connect?node=r3&port1=84&port2=84&channels=82"
$curl "$r3/connect?node=r3&port1=85&port2=85&channels=83"
$curl "$r3/connect?node=r3&port1=86&port2=86&channels=84"
$curl "$r3/connect?node=r3&port1=87&port2=87&channels=85"

$curl "$r1/connect?node=r1&port1=300&port2=300&channels=40"
$curl "$r2/connect?node=r2&port1=310&port2=310&channels=40"
$curl "$r2/connect?node=r2&port1=400&port2=400&channels=50"
$curl "$r3/connect?node=r3&port1=410&port2=410&channels=50"

# turn on the roadm
$curl "$t1/turn_on?node=t1"
$curl "$t2/turn_on?node=t2"
$curl "$t3/turn_on?node=t3"
$curl "$t4/turn_on?node=t4"
$curl "$t5/turn_on?node=t5"
$curl "$t6/turn_on?node=t6"
$curl "$t7/turn_on?node=t7"
$curl "$t8/turn_on?node=t8"
$curl "$t9/turn_on?node=t9"
$curl "$t10/turn_on?node=t10"
$curl "$t11/turn_on?node=t11"
$curl "$t12/turn_on?node=t12"
$curl "$t13/turn_on?node=t13"
$curl "$t14/turn_on?node=t14"
$curl "$t15/turn_on?node=t15"
$curl "$t16/turn_on?node=t16"
$curl "$t17/turn_on?node=t17"
$curl "$t18/turn_on?node=t18"
$curl "$t19/turn_on?node=t19"
$curl "$t20/turn_on?node=t20"
$curl "$t21/turn_on?node=t21"
$curl "$t22/turn_on?node=t22"
$curl "$t23/turn_on?node=t23"
$curl "$t24/turn_on?node=t24"
$curl "$t25/turn_on?node=t25"
$curl "$t26/turn_on?node=t26"
$curl "$t27/turn_on?node=t27"
$curl "$t28/turn_on?node=t28"
$curl "$t29/turn_on?node=t29"
$curl "$t30/turn_on?node=t30"
$curl "$t31/turn_on?node=t31"
$curl "$t32/turn_on?node=t32"
$curl "$t33/turn_on?node=t33"
$curl "$t34/turn_on?node=t34"
$curl "$t35/turn_on?node=t35"
$curl "$t36/turn_on?node=t36"
$curl "$t37/turn_on?node=t37"
$curl "$t38/turn_on?node=t38"
$curl "$t39/turn_on?node=t39"
$curl "$t40/turn_on?node=t40"
$curl "$t41/turn_on?node=t41"
$curl "$t42/turn_on?node=t42"
$curl "$t43/turn_on?node=t43"
$curl "$t44/turn_on?node=t44"
$curl "$t45/turn_on?node=t45"
$curl "$t46/turn_on?node=t46"
$curl "$t47/turn_on?node=t47"
$curl "$t48/turn_on?node=t48"
$curl "$t49/turn_on?node=t49"
$curl "$t50/turn_on?node=t50"
$curl "$t51/turn_on?node=t51"
$curl "$t52/turn_on?node=t52"
$curl "$t53/turn_on?node=t53"
$curl "$t54/turn_on?node=t54"
$curl "$t55/turn_on?node=t55"
$curl "$t56/turn_on?node=t56"
$curl "$t57/turn_on?node=t57"
$curl "$t58/turn_on?node=t58"
$curl "$t59/turn_on?node=t59"
$curl "$t60/turn_on?node=t60"
$curl "$t61/turn_on?node=t61"
$curl "$t62/turn_on?node=t62"
$curl "$t63/turn_on?node=t63"
$curl "$t64/turn_on?node=t64"
$curl "$t65/turn_on?node=t65"
$curl "$t66/turn_on?node=t66"
$curl "$t67/turn_on?node=t67"
$curl "$t68/turn_on?node=t68"
$curl "$t69/turn_on?node=t69"
$curl "$t70/turn_on?node=t70"
$curl "$t71/turn_on?node=t71"
$curl "$t72/turn_on?node=t72"
$curl "$t73/turn_on?node=t73"
$curl "$t74/turn_on?node=t74"
$curl "$t75/turn_on?node=t75"
$curl "$t76/turn_on?node=t76"
$curl "$t77/turn_on?node=t77"
$curl "$t78/turn_on?node=t78"
$curl "$t79/turn_on?node=t79"
$curl "$t80/turn_on?node=t80"
$curl "$t81/turn_on?node=t81"
$curl "$t82/turn_on?node=t82"
$curl "$t83/turn_on?node=t83"
$curl "$t84/turn_on?node=t84"
$curl "$t85/turn_on?node=t85"

for tname in t1 t2 t3 t4 t5 t6 t7 t8 t9 t10 t11 t12 t13 t14 t15 t16 t17 t18 t19 t20 t21 t22 t23 t24 t25 t26 t27 t28 t29 t30 t31 t32 t33 t34 t35 t36 t37 t38 t39 t40 t41 t42 t43 t44 t45 t46 t47 t48 t49 t50 t51 t52 t53 t54 t55 t56 t57 t58 t59 t60 t61 t62 t63 t64 t65 t66 t67 t68 t69 t70 t71 t72 t73 t74 t75 t76 t77 t78 t79 t80 t81 t82 t83 t84 t85 ; do
    url=${!tname}
    $curl "$url/monitor?monitor=$tname-monitor"
done

    
for tname in t1 t2 t3 t4 t5 t6 t7 t8 t9 t10 t11 t12 t13 t14 t15 t16 t17 t18 t19 t20 t21 t22 t23 t24 t25 t26 t27 t28 t29 t30 t31 t32 t33 t34 t35 t36 t37 t38 t39 t40 t41 t42 t43 t44 t45 t46 t47 t48 t49 t50 t51 t52 t53 t54 t55 t56 t57 t58 t59 t60 t61 t62 t63 t64 t65 t66 t67 t68 t69 t70 t71 t72 t73 t74 t75 t76 t77 t78 t79 t80 t81 t82 t83 t84 t85 ; do
    url=${!tname}
    #echo "* $tname"
    $curl "$url/monitor?monitor=$tname-monitor"
done
